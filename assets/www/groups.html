<!DOCTYPE HTML>
<html>
<head>

<title>Groups</title>


	<script type="text/javascript" charset="utf-8" src="cordova-1.7.0.js"></script>
	

 <!--  	<script src="jquery-1.7.2.min.js"></script> -->
   
	
	</head>
	
	<body onload="init()">
	
	<div id="addgroup">Add a group</div>
	<div id="groups">groups shown below:</div>
	<script type="text/javascript" charset="utf-8">
	
	//alert("im here 3")
	
	function init()
	{
		var db = window.openDatabase("Database", "1.0", "Cordova Demo", 200000);
		db.transaction(populateDB);
		db.transaction(queryDB);
	}

	function populateDB(tx)
	{
	//	tx.executeSql('DROP TABLE IF EXISTS DEMO');
    //    tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, data)');
    //    tx.executeSql('INSERT INTO DEMO (id, data) VALUES (1, "First row")');
    //    tx.executeSql('INSERT INTO DEMO (id, data) VALUES (2, "Second row")');
    //    tx.executeSql('INSERT INTO DEMO (id, data) VALUES (3, "Third row")');
       
        
        //create group table
        //tx.executeSql('DROP TABLE IF EXISTS GROUPS');
        tx.executeSql('CREATE TABLE IF NOT EXISTS GROUPS (id INTEGER PRIMARY KEY AUTOINCREMENT, data)');
        //tx.executeSql('INSERT INTO GROUPS (data) VALUES ("group")');
       // tx.executeSql('INSERT INTO GROUPS (data) VALUES ("group2")');
        // alert("populated!");
	}

	function queryDB(tx)
	{
		tx.executeSql('SELECT * FROM GROUPS', [], queryDB2);
		//alert(result.rows.length);
		//alert("queried!");
	}
	
	function queryDB2(tx, results)
	{
		//len =-Math.abs(results.rows.length);
		len = results.rows.length;
		// alert(len);
	    // alert(Math.abs(len))
	    var lastDiv = $('#groups')
	   
		
		for (var i=0; i<Math.abs(len); i++)
			{
				//alert("Id: " + results.rows.item(i).id +" Data: "+ results.rows.item(i).data);
				lastDiv.append("<div>"+results.rows.item(i).data+"</div>")
			}
	}
	
	</script>
	
</body>
<script src=zepto.min.js></script>
</html>